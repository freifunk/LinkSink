<form class="form-horizontal" method="post" id="link-form" action="{% if entity.id is not null and entity.id > 0 %}{{ path('_update',{'slug':entity.slug}) }}{% else %}{{ path('_create') }}{% endif %}">
    <div class="row">
        <div class="col-md-6">
            <div class="form-group{% if(errors|default('0') != 0) %} {% if('ls_title' in errors|keys) %} has-error{% endif %}{% endif %}">
                <label for="link_title" class="control-label">Titel</label>
                <input type="text"
                       id="link_title"
                       name="ls_title"
                       required="required"
                       maxlength="255"
                       value="{{ entity.title|default('') }}"
                       class="form-control">
                {% if(errors|default('0') != 0) %} {% if('ls_title' in errors|keys) %}
                    <div class="help-block">{{ errors.ls_title }}</div>
                {% endif %}{% endif %}
            </div>
            <div class="form-group{% if(errors|default('0') != 0) %} {% if('ls_url' in errors|keys) %} has-error{% endif %}{% endif %}">
                <label for="link_url" class="control-label">URL</label>
                <input type="text"
                       id="link_url"
                       name="ls_url"
                       required="required"
                       maxlength="255"
                       value="{{ entity.url|default('') }}"
                       class="form-control">
                {% if(errors|default('0') != 0) %} {% if('ls_url' in errors|keys) %}
                    <div class="help-block">{{ errors.ls_url }}</div>
                {% endif %}{% endif %}
            </div>
            <div class="form-group{% if(errors|default('0') != 0) %} {% if('ls_pubdate' in errors|keys) %} has-error{% endif %}{% endif %}">
                <label for="link_pubdate" class="control-label">Veröffentlichungsdatum</label>
                <input type="text"
                       id="link_pubdate"
                       name="ls_pubdate"
                       required="required"
                       value="{{ entity.pubdate.format('Y-m-d')|default('') }}"
                       placeholder="{{ "now"|date('Y-m-d') }}"
                       class="form-control">
                {% if(errors|default('0') != 0) %} {% if('ls_pubdate' in errors|keys) %}
                    <div class="help-block">{{ errors.ls_pubdate }}</div>
                {% endif %}{% endif %}
            </div>
        </div>
        <div class="col-md-6">
            <div class="form-group">
                <label for="link_description" class="control-label">Beschreibung</label>
                <textarea id="link_description" rows="8" name="ls_description" class="form-control">{{ entity.description|default('') }}</textarea>
                <div class="help-block">
                    Du kannst hier <a href="https://en.wikipedia.org/wiki/Markdown">Markdown</a> benutzen.
                </div>
            </div>
        </div>
        <div class="col-md-12">
            <div class="form-group">
                <input type="hidden"
                       id="link_enclosureid"
                       name="ls_enclosureid"
                       value="{{ entity.enclosure.id|default('') }}">
                <label for="link_enclosureurl" class="control-label">Link zu einer Mediendatei (mp3, ogg, ...), die z.B. zu einem Podcast gehört. Länge und Medientyp werden beim Speichern automatisch ergänzt</label>
                <input type="text"
                       id="link_enclosureurl"
                       name="ls_enclosureurl"
                       maxlength="255"
                       value="{{ entity.enclosure.url|default('') }}"
                       class="form-control">
            </div>
            <div class="form-group">
                <label for="link_enclosurelength" class="control-label">Medienlänge in Byte</label>
                <input type="text"
                       id="link_enclosurelength"
                       name="ls_enclosurelength"
                       maxlength="255"
                       placeholder="Wird beim Speichern gesetzt"
                       value="{{ entity.enclosure.length|default('') }}"
                       disabled
                       class="form-control">
            </div>
            <div class="form-group">
                <label for="link_enclosuretype" class="control-label">Medientyp (MIME-Type)</label>
                <input type="text"
                       id="link_enclosuretype"
                       name="ls_enclosuretype"
                       maxlength="255"
                       placeholder="Wird beim Speichern gesetzt"
                       pattern=".*\/.*"
                       value="{{ entity.enclosure.type|default('') }}"
                       disabled
                       class="form-control">
            </div>
            <div class="form-group{% if(errors|default('0') != 0) %} {% if('ls_category' in errors|keys) %} has-error{% endif %}{% endif %}">
                <label for="link_category" class="control-label">Kategorie</label>
                <select id="link_category" name="ls_category" class="form-control">
                    <option value="">{{ 'Bitte wähle eine Kategorie' }}</option>
                    {% for category in categories %}
                        <option value="{{ category.getSlug() }}" {% if entity.category is not null and entity.category.getSlug() == category.getSlug() %}selected{% endif %}>{{ category.getName }}</option>
                    {% endfor %}
                </select>
                {% if(errors|default('0') != 0) %} {% if('ls_category' in errors|keys) %}
                    <div class="help-block">{{ errors.ls_category }}</div>
                {% endif %}{% endif %}
            </div>
            <div class="form-group">
                <label for="link_tags" class="control-label">Tags</label>
                <input type="text"
                       id="link_tags"
                       name="ls_tags"
                       value="{{ entity.getTagsAsText()|default('') }}"
                       class="form-control">
                <div class="help-block">
                    Du kannst hier kommasepariert <a href="https://en.wikipedia.org/wiki/Tag_%28metadata%29">Tags</a> angeben.
                </div>
            </div>
            <div class="form-group oos">
                <label for="link_origin" class="control-label required">Origin</label>
                <input type="text"
                       id="link_origin"
                       name="ls_origin"
                       maxlength="255"
                       value="{{ entity.origin|default('') }}"
                       class="form-control">
            </div>
        </div>
    </div>
    <button type="submit" class="btn btn-primary">Speichern</button>
</form>